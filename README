BT Library README File

15th December, 2003

CONTENTS
    INTRODUCTION
    COMPILING
    INSTALLING
    NOTES
    ERRORS
    RELEASE HISTORY

INTRODUCTION
    The BT library is a set of C language functions which implement an
    generalised index file capability, based on the B Tree indexing
    scheme. The B Tree was originally described by Bayer and
    McCraight. A B tree is a multiway balanced tree: i.e. there is
    more than one key per node, and all leaf nodes are the same
    distance from the root node.

    The BT functions implement a 'classical' B tree, not one of the
    later varients (B* or B+ tree).

    The B Tree is stored in a disk file. The file can contain
    many B Trees, each of which is referred to by a name assigned by
    the user (or application). The system allows many such files to
    exist.

    In order for BT to function efficiently on many hardware
    platforms, the important constants relating to disk block size,
    maximum number of keys per block, etc. are defined as constants,
    and may be modifed prior to compilation.

COMPILING
    First, grab the tar file from http://www.hydrus.org.uk and untar
    into a convenient directory, e.g.
         mkdir bt-1.0
         cd bt-1.0
         tar xzf ../bt-1.0.tar.gz

    Since the tar file includes this README file, you've probably done
    this already.

    The key sub-directories are as follows:
        src-lib             C source for BT library routines
        src-main            C source for BT test harness and copy
                            utility
        inc                 C header files
        lib                 holds BT library archive

    The BT library (and a test harness and copy utility) are built by
    make.  Build the library for your machine by issuing the following
    commands:
        make clean
        make

    The BT library is a standard UNIX object archive, built by ar.

    It is possible to smoke test the newly built library by:
       make test_run

    All tests should pass.

INSTALLING
    Copy the BT library archive (./lib/libbt.a) to a convenient system
    library location (e.g. /usr/local/lib).  The standard BT header
     files (./inc/{bc.h,bt.h,btree.h}) must also be placed in a local
    system include location (e.g. /usr/local/include).

    Programs can then be compiled and linked against the library by a
    command of the form: 
         cc -o yak -lbt yak.c 

    Alternatively, just put these files somewhere convenient in your
    local development hierarchy.

NOTES
    Should you change any of the compile time constants in ./inc/bc.h,
    it will be necessary to regenerate the output templates used for
    test output verification.  These can be re-created by:
         make test_init

    It is strongly advised that you manually verify the output_master
    files before believing the output of 'make test_run'.  These are
    located in ./Testcases/*/output_master (i.e. one per testcase).

    Documentation on the BT API is available in docbook format and
    HTML, also downloadable from http://www.hydrus.org.uk.

    BT is dependent on very little, but it does require the gcc
    compiler and GNU make.

ERRORS
    Should you encounter errors during use of the BT library, please
    email mark@hydrus.org.uk with relevant details.

RELEASE HISTORY
    15th December, 2003         1.0     First public release
    31st May,      2004         2.0     Major API revision